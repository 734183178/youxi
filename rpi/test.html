<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‹çˆ±å æœ‰æ¬²æµ‹è¯• - æ­£åœ¨æµ‹è¯„ä¸­</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: #0a0a0a;
            color: #fff;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a0a1e 0%, #2d1b3d 50%, #1a0a1e 100%);
            z-index: -1;
        }

        /* é¡¶éƒ¨è¿›åº¦æ¡ */
        .top-progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 1000;
        }

        .top-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b9d 0%, #ffa07a 100%);
            width: 0%;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(255, 107, 157, 0.6);
        }

        /* å¤´éƒ¨ */
        .header {
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(255, 107, 157, 0.2);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
        }

        .logo-text {
            font-size: 18px;
            background: linear-gradient(135deg, #ff6b9d 0%, #ffa07a 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
        }

        .progress-info {
            display: flex;
            align-items: center;
            gap: 20px;
            font-size: 14px;
            color: #999;
        }

        .progress-text {
            color: #ff6b9d;
            font-weight: 600;
        }

        /* ä¸»å®¹å™¨ */
        .container {
            max-width: 900px;
            margin: 60px auto;
            padding: 0 30px;
        }

        /* æµ‹è¯•å¡ç‰‡ */
        .test-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            padding: 60px 50px;
            border: 1px solid rgba(255, 107, 157, 0.2);
            animation: fadeInUp 0.6s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ç»´åº¦æ ‡ç­¾ */
        .dimension-tag {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 107, 157, 0.15);
            color: #ff6b9d;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 13px;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 107, 157, 0.3);
        }

        /* é—®é¢˜åŒºåŸŸ */
        .question-header {
            margin-bottom: 40px;
        }

        .question-number {
            font-size: 16px;
            color: #999;
            margin-bottom: 15px;
        }

        .question-number span {
            color: #ff6b9d;
            font-weight: 700;
            font-size: 20px;
        }

        .question-text {
            font-size: 28px;
            color: #fff;
            line-height: 1.5;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .question-subtitle {
            font-size: 15px;
            color: #aaa;
            line-height: 1.7;
        }

        /* é€‰é¡¹åŒºåŸŸ */
        .options-container {
            display: grid;
            gap: 15px;
            margin-bottom: 40px;
        }

        .option-card {
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px 30px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 20px;
            position: relative;
            overflow: hidden;
        }

        .option-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 107, 157, 0.1), transparent);
            transition: left 0.5s;
        }

        .option-card:hover::before {
            left: 100%;
        }

        .option-card:hover {
            border-color: rgba(255, 107, 157, 0.4);
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(5px);
        }

        .option-card.selected {
            border-color: #ff6b9d;
            background: rgba(255, 107, 157, 0.1);
            box-shadow: 0 8px 25px rgba(255, 107, 157, 0.3);
        }

        .option-radio {
            width: 24px;
            height: 24px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            flex-shrink: 0;
            position: relative;
            transition: all 0.3s;
        }

        .option-card.selected .option-radio {
            border-color: #ff6b9d;
            background: #ff6b9d;
        }

        .option-card.selected .option-radio::after {
            content: 'âœ“';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 14px;
            font-weight: bold;
        }

        .option-text {
            flex: 1;
            font-size: 17px;
            color: #ccc;
            line-height: 1.6;
        }

        .option-card.selected .option-text {
            color: #fff;
            font-weight: 500;
        }

        /* æŒ‰é’®åŒºåŸŸ */
        .button-container {
            display: flex;
            gap: 20px;
            justify-content: space-between;
        }

        .btn {
            padding: 18px 40px;
            border: none;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-back {
            background: rgba(255, 255, 255, 0.05);
            color: #ccc;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .btn-back:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .btn-next {
            background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%);
            color: white;
            flex: 1;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.3);
            justify-content: center;
        }

        .btn-next:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 107, 157, 0.5);
        }

        .btn-next:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* è¿›åº¦æŒ‡ç¤ºå™¨ */
        .progress-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .progress-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.3s;
        }

        .progress-dot.completed {
            background: #4caf50;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
        }

        .progress-dot.current {
            background: #ff6b9d;
            width: 24px;
            border-radius: 4px;
            box-shadow: 0 0 10px rgba(255, 107, 157, 0.6);
        }

        /* ä¾§è¾¹æ è¿›åº¦ */
        .sidebar-progress {
            position: fixed;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            padding: 25px 20px;
            border-radius: 20px;
            border: 1px solid rgba(255, 107, 157, 0.2);
            text-align: center;
            min-width: 120px;
        }

        .sidebar-progress-circle {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            position: relative;
        }

        .sidebar-progress-circle svg {
            transform: rotate(-90deg);
        }

        .progress-circle-bg {
            fill: none;
            stroke: rgba(255, 255, 255, 0.1);
            stroke-width: 8;
        }

        .progress-circle-fill {
            fill: none;
            stroke: url(#gradient);
            stroke-width: 8;
            stroke-linecap: round;
            transition: stroke-dashoffset 0.5s ease;
        }

        .progress-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
            font-weight: 700;
            color: #ff6b9d;
        }

        .sidebar-progress-text {
            font-size: 13px;
            color: #999;
        }

        /* 
 * test.html ç§»åŠ¨ç«¯é€‚é…ä¿®æ”¹
 * æ‰¾åˆ°æ–‡ä»¶åº•éƒ¨çš„ @media éƒ¨åˆ†ï¼Œæ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹
 */

        /* å“åº”å¼ */
        @media (max-width: 1024px) {
            .sidebar-progress {
                display: none;
            }
        }

        @media (max-width: 768px) {

            /* ===== Header å‹ç¼© ===== */
            .header {
                padding: 10px 0;
            }

            .header-content {
                padding: 0 15px;
            }

            .logo-icon {
                width: 32px;
                height: 32px;
                font-size: 18px;
                border-radius: 8px;
            }

            .logo-text {
                font-size: 14px;
            }

            .logo {
                gap: 8px;
            }

            .progress-info {
                font-size: 12px;
                gap: 10px;
            }

            /* ===== ä¸»å®¹å™¨ ===== */
            .container {
                margin: 15px auto;
                padding: 0 12px;
            }

            /* ===== æµ‹è¯•å¡ç‰‡ ===== */
            .test-card {
                padding: 20px 16px;
                border-radius: 20px;
            }

            /* ===== ç»´åº¦æ ‡ç­¾ ===== */
            .dimension-tag {
                padding: 5px 12px;
                font-size: 12px;
                margin-bottom: 12px;
            }

            /* ===== é¢˜ç›®åŒºåŸŸ ===== */
            .question-header {
                margin-bottom: 16px;
            }

            .question-number {
                font-size: 13px;
                margin-bottom: 8px;
            }

            .question-number span {
                font-size: 16px;
            }

            .question-text {
                font-size: 18px;
                margin-bottom: 8px;
                line-height: 1.4;
            }

            .question-subtitle {
                font-size: 13px;
                line-height: 1.5;
            }

            /* ===== é€‰é¡¹åŒºåŸŸ - é‡ç‚¹å‹ç¼© ===== */
            .options-container {
                gap: 8px;
                margin-bottom: 20px;
            }

            .option-card {
                padding: 14px 16px;
                border-radius: 14px;
                gap: 12px;
            }

            .option-radio {
                width: 20px;
                height: 20px;
                flex-shrink: 0;
            }

            .option-text {
                font-size: 14px;
                line-height: 1.4;
            }

            /* ===== æŒ‰é’®åŒºåŸŸ ===== */
            .button-container {
                flex-direction: row;
                gap: 10px;
            }

            .btn {
                padding: 14px 20px;
                font-size: 14px;
                border-radius: 12px;
            }

            .btn-back {
                padding: 14px 16px;
                flex: 0 0 auto;
            }

            .btn-next {
                flex: 1;
            }

            /* ===== éšè—è¿›åº¦ç‚¹ ===== */
            .progress-dots {
                display: none;
            }
        }

        /* æ›´å°å±å¹•ä¼˜åŒ– */
        @media (max-width: 375px) {
            .test-card {
                padding: 16px 14px;
            }

            .question-text {
                font-size: 16px;
            }

            .option-card {
                padding: 12px 14px;
            }

            .option-text {
                font-size: 13px;
            }

            .btn {
                padding: 12px 16px;
                font-size: 13px;
            }
        }
    </style>
    <script src="js/questions.js"></script>
</head>

<body>
    <div class="animated-bg"></div>

    <!-- é¡¶éƒ¨è¿›åº¦æ¡ -->
    <div class="top-progress-bar">
        <div class="top-progress-fill" id="topProgress"></div>
    </div>

    <!-- å¤´éƒ¨ -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">ğŸ’</div>
                <div class="logo-text">æ‹çˆ±å æœ‰æ¬²æµ‹è¯•</div>
            </div>
            <div class="progress-info">
                <span class="progress-text" id="progressText">1/42</span>
                <span>|</span>
                <span id="timeElapsed">00:00</span>
            </div>
        </div>
    </header>

    <!-- ä¸»å®¹å™¨ -->
    <div class="container">
        <div class="test-card">
            <!-- ç»´åº¦æ ‡ç­¾ -->
            <div class="dimension-tag" id="dimensionTag">
                ğŸ¯ æ§åˆ¶æ¬²æœ›ç»´åº¦
            </div>

            <!-- é—®é¢˜åŒºåŸŸ -->
            <div class="question-header">
                <div class="question-number">
                    ç¬¬ <span id="questionNum">1</span> é¢˜ / å…± 42 é¢˜
                </div>
                <h2 class="question-text" id="questionText">
                    å½“ä½ çš„ä¼´ä¾£å’Œå¼‚æ€§æœ‹å‹å•ç‹¬å‡ºå»æ—¶ï¼Œä½ ä¼šæœ‰ä»€ä¹ˆæ„Ÿå—ï¼Ÿ
                </h2>
                <p class="question-subtitle" id="questionSubtitle">
                    è¯·æ ¹æ®ä½ çš„çœŸå®æ„Ÿå—é€‰æ‹©æœ€ç¬¦åˆçš„é€‰é¡¹
                </p>
            </div>

            <!-- é€‰é¡¹åŒºåŸŸ -->
            <div class="options-container" id="optionsContainer">
                <div class="option-card" data-value="1">
                    <div class="option-radio"></div>
                    <div class="option-text">å®Œå…¨ä¸ä»‹æ„ï¼Œç›¸ä¿¡å¯¹æ–¹çš„åˆ¤æ–­</div>
                </div>
                <div class="option-card" data-value="2">
                    <div class="option-radio"></div>
                    <div class="option-text">æœ‰ä¸€ç‚¹åœ¨æ„ï¼Œä½†ä¸ä¼šè¡¨ç°å‡ºæ¥</div>
                </div>
                <div class="option-card" data-value="3">
                    <div class="option-radio"></div>
                    <div class="option-text">ä¼šæ„Ÿåˆ°ä¸å®‰ï¼Œå¸Œæœ›äº†è§£è¯¦ç»†æƒ…å†µ</div>
                </div>
                <div class="option-card" data-value="4">
                    <div class="option-radio"></div>
                    <div class="option-text">éå¸¸ä»‹æ„ï¼Œä¼šæ˜ç¡®è¡¨è¾¾åå¯¹</div>
                </div>
                <div class="option-card" data-value="5">
                    <div class="option-radio"></div>
                    <div class="option-text">æ— æ³•æ¥å—ï¼Œè§‰å¾—è¿™æ˜¯å¯¹å…³ç³»çš„ä¸å°Šé‡</div>
                </div>
            </div>

            <!-- æŒ‰é’®åŒºåŸŸ -->
            <div class="button-container">
                <button class="btn btn-back" id="btnBack">
                    â† ä¸Šä¸€é¢˜
                </button>
                <button class="btn btn-next" id="btnNext" disabled>
                    ä¸‹ä¸€é¢˜ â†’
                </button>
            </div>

            <!-- è¿›åº¦ç‚¹ -->
            <div class="progress-dots" id="progressDots">
                <!-- åŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <!-- ä¾§è¾¹æ è¿›åº¦ -->
    <div class="sidebar-progress">
        <div class="sidebar-progress-circle">
            <svg width="80" height="80">
                <defs>
                    <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#ff6b9d;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#ffa07a;stop-opacity:1" />
                    </linearGradient>
                </defs>
                <circle class="progress-circle-bg" cx="40" cy="40" r="36"></circle>
                <circle class="progress-circle-fill" cx="40" cy="40" r="36" stroke-dasharray="226"
                    stroke-dashoffset="226" id="progressCircle"></circle>
            </svg>
            <div class="progress-percentage" id="progressPercentage">2%</div>
        </div>
        <div class="sidebar-progress-text">æµ‹è¯•è¿›åº¦</div>
    </div>

    <script>
        // ç¡®ä¿questions.jså·²åŠ è½½
        if (typeof getQuestions === 'undefined') {
            alert('é¢˜ç›®æ–‡ä»¶åŠ è½½å¤±è´¥,è¯·åˆ·æ–°é¡µé¢é‡è¯•');
        }

        // è·å–æµ‹è¯•æ¨¡å¼
        const urlParams = new URLSearchParams(window.location.search);
        const testMode = urlParams.get('mode') || 'self';
        localStorage.setItem('testMode', testMode);

        // è·å–å¯¹åº”æ¨¡å¼çš„é¢˜ç›®
        const testquestions = window.getQuestions(testMode);

        // æµ‹è¯•æ•°æ®

        let currentQuestion = 0;
        let answers = [];
        let startTime = Date.now();

        // åˆå§‹åŒ–
        function init() {
            generateProgressDots();
            updateQuestion();
            setupEventListeners();
            startTimer();
        }

        // ç”Ÿæˆè¿›åº¦ç‚¹
        function generateProgressDots() {
            const dotsContainer = document.getElementById('progressDots');
            for (let i = 0; i < 42; i++) {
                const dot = document.createElement('div');
                dot.className = 'progress-dot';
                if (i === 0) dot.classList.add('current');
                dotsContainer.appendChild(dot);
            }
        }

        // æ›´æ–°é—®é¢˜
        function updateQuestion() {
            const q = testquestions[currentQuestion] || testquestions[0];

            document.getElementById('dimensionTag').innerHTML = q.dimension;
            document.getElementById('questionNum').textContent = currentQuestion + 1;
            document.getElementById('questionText').textContent = q.question;
            document.getElementById('questionSubtitle').textContent = q.subtitle;
            document.getElementById('progressText').textContent = `${currentQuestion + 1}/42`;

            // æ›´æ–°é€‰é¡¹
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            q.options.forEach((option, index) => {
                const optionCard = document.createElement('div');
                optionCard.className = 'option-card';
                optionCard.dataset.value = index + 1;
                optionCard.innerHTML = `
                    <div class="option-radio"></div>
                    <div class="option-text">${option}</div>
                `;
                optionsContainer.appendChild(optionCard);
            });

            // æ›´æ–°è¿›åº¦
            updateProgress();

            // é‡æ–°ç»‘å®šé€‰é¡¹äº‹ä»¶
            setupOptionListeners();

            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.getElementById('btnBack').disabled = currentQuestion === 0;
            document.getElementById('btnNext').disabled = true;

            // æ¢å¤ä¹‹å‰çš„ç­”æ¡ˆ
            if (answers[currentQuestion]) {
                const selectedOption = document.querySelector(`[data-value="${answers[currentQuestion]}"]`);
                if (selectedOption) {
                    selectedOption.classList.add('selected');
                    document.getElementById('btnNext').disabled = false;
                }
            }
        }

        // æ›´æ–°è¿›åº¦
        function updateProgress() {
            const progress = ((currentQuestion + 1) / 42) * 100;

            // é¡¶éƒ¨è¿›åº¦æ¡
            document.getElementById('topProgress').style.width = progress + '%';

            // åœ†å½¢è¿›åº¦
            const circumference = 226;
            const offset = circumference - (progress / 100) * circumference;
            document.getElementById('progressCircle').style.strokeDashoffset = offset;
            document.getElementById('progressPercentage').textContent = Math.round(progress) + '%';

            // è¿›åº¦ç‚¹
            const dots = document.querySelectorAll('.progress-dot');
            dots.forEach((dot, index) => {
                dot.classList.remove('current', 'completed');
                if (index < currentQuestion) {
                    dot.classList.add('completed');
                } else if (index === currentQuestion) {
                    dot.classList.add('current');
                }
            });
        }

        // è®¾ç½®é€‰é¡¹ç›‘å¬
        function setupOptionListeners() {
            document.querySelectorAll('.option-card').forEach(option => {
                option.addEventListener('click', function () {
                    // ç§»é™¤å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
                    document.querySelectorAll('.option-card').forEach(opt => {
                        opt.classList.remove('selected');
                    });

                    // æ·»åŠ å½“å‰é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
                    this.classList.add('selected');

                    // ä¿å­˜ç­”æ¡ˆ
                    answers[currentQuestion] = parseInt(this.dataset.value);

                    // å¯ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®
                    document.getElementById('btnNext').disabled = false;
                });
            });
        }

        // è®¾ç½®æŒ‰é’®ç›‘å¬
        function setupEventListeners() {
            document.getElementById('btnBack').addEventListener('click', () => {
                if (currentQuestion > 0) {
                    currentQuestion--;
                    updateQuestion();
                }
            });

            document.getElementById('btnNext').addEventListener('click', () => {
                if (currentQuestion < 41) {
                    currentQuestion++;
                    updateQuestion();
                } else {
                    // å®Œæˆæµ‹è¯•
                    submitTest();
                }
            });
        }

        // è®¡æ—¶å™¨
        function startTimer() {
            setInterval(() => {
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                const minutes = Math.floor(elapsed / 60).toString().padStart(2, '0');
                const seconds = (elapsed % 60).toString().padStart(2, '0');
                document.getElementById('timeElapsed').textContent = `${minutes}:${seconds}`;
            }, 1000);
        }

        // æäº¤æµ‹è¯•
        function submitTest() {
            // ä¿å­˜ç­”æ¡ˆåˆ° localStorage
            localStorage.setItem('testAnswers', JSON.stringify(answers));
            localStorage.setItem('testTime', new Date().toISOString());

            // è·³è½¬åˆ°ç»“æœé¡µ
            window.location.href = 'result.html';
        }

        // åˆå§‹åŒ–
        init();
    </script>
</body>

</html>