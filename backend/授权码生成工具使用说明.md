# 授权码批量生成工具使用指南

## 📦 工具说明

本工具用于批量生成恋爱占有欲测试网站的授权码，支持多种输出格式。

## 🚀 快速开始

### 方法一：使用批处理文件（推荐，Windows系统）

1. 双击运行 `批量生成授权码.bat` 文件
2. 根据菜单选择操作：
   - 选项 1: 生成 10 个授权码（控制台显示）
   - 选项 2: 生成 50 个授权码（保存到 codes-50.txt）
   - 选项 3: 生成 100 个授权码（保存到 codes-100.txt）
   - 选项 4: 生成 500 个授权码（保存到 codes-500.csv）
   - 选项 5: 自定义数量和文件名
   - 选项 6: 查看使用帮助

### 方法二：使用命令行

打开命令提示符或PowerShell，进入backend目录：

```bash
cd C:\Users\admin\Desktop\恋爱\backend
```

#### 生成并在控制台显示

```bash
# 生成10个授权码
node generate-codes.js 10

# 生成100个授权码
node generate-codes.js 100
```

#### 生成并保存到文件

```bash
# 保存为文本文件（每行一个授权码）
node generate-codes.js 100 codes.txt

# 保存为CSV文件（带表头和序号）
node generate-codes.js 500 codes.csv

# 保存为JSON文件
node generate-codes.js 200 codes.json
```

## 📝 文件格式说明

### 1. TXT格式（默认）
纯文本格式，每行一个授权码：
```
LOVE2025
TEST1234
DEMO5678
...
```

### 2. CSV格式
带表头的CSV格式，适合Excel打开：
```csv
序号,授权码,创建时间,状态
1,LOVE2025,2025-01-06T10:30:00.000Z,未使用
2,TEST1234,2025-01-06T10:30:00.000Z,未使用
...
```

### 3. JSON格式
JSON数组格式，适合程序导入：
```json
[
  {
    "id": 1,
    "code": "LOVE2025",
    "used": false,
    "createdAt": "2025-01-06T10:30:00.000Z"
  },
  ...
]
```

## ⚙️ 命令行参数

```bash
node generate-codes.js <数量> [输出文件]
```

- `<数量>`: 必需，生成授权码的数量（1-10000）
- `[输出文件]`: 可选，保存授权码的文件路径

## 📊 授权码特点

- **长度**: 8位字符
- **字符集**: 大写字母(A-Z) + 数字(0-9)
- **唯一性**: 自动去重，保证100%唯一
- **示例**: `LOVE2025`, `TEST1234`, `A1B2C3D4`

## 🔧 常见问题

### Q: 如何查看已生成的授权码？
A: 如果保存到文件，直接打开文件查看。如果在控制台显示，可以复制控制台内容。

### Q: 生成的授权码会重复吗？
A: 不会。工具使用Set数据结构自动去重，保证所有授权码唯一。

### Q: 最多可以生成多少个授权码？
A: 单次最多可生成10000个授权码。如需更多，可以多次运行工具。

### Q: 如何将授权码导入到后端系统？
A: 编辑 `server.js` 文件，将生成的授权码添加到 `authCodes` 数组中。

## 💡 使用建议

1. **批量生成**: 建议一次生成较多授权码（如500-1000个），避免频繁操作
2. **文件保存**: 使用CSV格式保存，便于在Excel中管理和统计
3. **备份授权码**: 将生成的授权码文件妥善保存，避免丢失
4. **定期清理**: 定期检查未使用的授权码，避免浪费

## 🛠️ 技术支持

如有问题，请检查：
1. Node.js是否已安装（版本 >= 14）
2. 是否在backend目录下运行
3. 文件写入权限是否正常

## 📄 许可证

本工具仅供恋爱占有欲测试网站使用。
